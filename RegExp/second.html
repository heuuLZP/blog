<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>位置匹配 | 前端知识体系</title>
    <meta name="generator" content="VuePress 1.5.0">
    <link rel="icon" href="/blog/favicon.ico">
    <meta name="description" content="将零碎知识归纳、整合成完成的框架体系">
    <link rel="preload" href="/blog/assets/css/0.styles.56a09861.css" as="style"><link rel="preload" href="/blog/assets/js/app.57b9cf0b.js" as="script"><link rel="preload" href="/blog/assets/js/2.7cc74fb0.js" as="script"><link rel="preload" href="/blog/assets/js/4.d4437480.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.6fae31ad.js"><link rel="prefetch" href="/blog/assets/js/11.8764466e.js"><link rel="prefetch" href="/blog/assets/js/3.6f805129.js"><link rel="prefetch" href="/blog/assets/js/5.78bf1597.js"><link rel="prefetch" href="/blog/assets/js/6.ecf3f633.js"><link rel="prefetch" href="/blog/assets/js/7.32c138ab.js"><link rel="prefetch" href="/blog/assets/js/8.2bd9b707.js"><link rel="prefetch" href="/blog/assets/js/9.ab1a0cde.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.56a09861.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">前端知识体系</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/RegExp/" class="nav-link router-link-active">
  正则表达式
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/RegExp/" class="nav-link router-link-active">
  正则表达式
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/blog/RegExp/" aria-current="page" class="sidebar-link">学习笔记</a></li><li><a href="/blog/RegExp/first.html" class="sidebar-link">第一章：字符匹配</a></li><li><a href="/blog/RegExp/first_practise.html" class="sidebar-link">第一章练习册</a></li><li><a href="/blog/RegExp/second.html" aria-current="page" class="active sidebar-link">第二章：位置匹配</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/RegExp/second.html#一、-和" class="sidebar-link">一、^ 和 $</a></li><li class="sidebar-sub-header"><a href="/blog/RegExp/second.html#二、-b-和-b" class="sidebar-link">二、\b 和 \B</a></li><li class="sidebar-sub-header"><a href="/blog/RegExp/second.html#三、-p-和-p" class="sidebar-link">三、(?=p) 和 (?!p)</a></li><li class="sidebar-sub-header"><a href="/blog/RegExp/second.html#四、位置的特性" class="sidebar-link">四、位置的特性</a></li><li class="sidebar-sub-header"><a href="/blog/RegExp/second.html#五、数字的千位分隔符表示法" class="sidebar-link">五、数字的千位分隔符表示法</a></li></ul></li><li><a href="/blog/RegExp/second_practise.html" class="sidebar-link">第二章练习册</a></li><li><a href="/blog/RegExp/third.html" class="sidebar-link">第三章：括号的作用</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="位置匹配"><a href="#位置匹配" class="header-anchor">#</a> 位置匹配</h1> <table><thead><tr><th>锚</th> <th>位置</th></tr></thead> <tbody><tr><td><code>^</code></td> <td>开头，多行的每一行开头</td></tr> <tr><td><code>$</code></td> <td>结尾，多行的每一行结尾</td></tr> <tr><td><code>\b</code></td> <td>单词边界：[_0-9a-zA-Z] 和 非 [_0-9a-zA-Z] 之间的位置</td></tr> <tr><td><code>\B</code></td> <td>排除 \b 匹配的位置后剩下的位置</td></tr> <tr><td><code>(?=p)</code></td> <td>正向先行断言：p 前面的位置</td></tr> <tr><td><code>(?!p)</code></td> <td>负向先行断言：不是 p 前面的位置</td></tr></tbody></table> <h2 id="一、-和"><a href="#一、-和" class="header-anchor">#</a> 一、<code>^</code> 和 <code>$</code></h2> <p><code>^</code> 在正则表达式中有两种用法：</p> <ul><li>字符组中使用<br>
表示排除某些字符</li> <li>非字符组中使用<br>
表示位置匹配</li></ul> <h2 id="二、-b-和-b"><a href="#二、-b-和-b" class="header-anchor">#</a> 二、<code>\b</code> 和 <code>\B</code></h2> <p>谨慎使用 <code>\b</code> 和 <code>\B</code>，通常字符串中会匹配到多个单词边界。</p> <p>给定字符串 &quot;1678 123789&quot;</p> <p>要求匹配间隔的位置，如下图所示：</p> <p><img src="data:image/jpeg;base64,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" alt="regexp_2_01"></p> <p>这里就比较适合使用 <code>\b</code> 来匹配了，下图是全局匹配的结果：</p> <p><img src="data:image/png;base64,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" alt="regexp_2_02"></p> <h2 id="三、-p-和-p"><a href="#三、-p-和-p" class="header-anchor">#</a> 三、<code>(?=p)</code> 和 <code>(?!p)</code></h2> <p>这里的问题是，每次看完先行断言的知识点，很快就忘记了。
建议通过一些例子来熟悉先行断言的用法。</p> <h2 id="四、位置的特性"><a href="#四、位置的特性" class="header-anchor">#</a> 四、位置的特性</h2> <p>可以把位置理解成空字符 <code>&quot;&quot;</code></p> <p><strong>注意</strong>：
是空字符，不是空格，两者的含义是不一样的。</p> <h2 id="五、数字的千位分隔符表示法"><a href="#五、数字的千位分隔符表示法" class="header-anchor">#</a> 五、数字的千位分隔符表示法</h2> <p>把 &quot;12345678&quot;, 变成&quot;12,345,678&quot;</p> <h4 id="_5-1-最后一个逗号"><a href="#_5-1-最后一个逗号" class="header-anchor">#</a> 5.1 最后一个逗号</h4> <p>找出最后一个逗号的位置：</p> <p>最后一个逗号的位置，后面应该是3个数字，最后是末尾。</p> <p>即：子模式应该是 <code>\d{3}$</code></p> <p>🍬</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">&quot;12345678&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> regex <span class="token operator">=</span> <span class="token regex">/(?=\d{3}$)/g</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> result <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>regex<span class="token punctuation">,</span> <span class="token string">','</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// =&gt; &quot;12345,678&quot;</span>
</code></pre></div><h4 id="_5-2-找出剩下的逗号"><a href="#_5-2-找出剩下的逗号" class="header-anchor">#</a> 5.2 找出剩下的逗号</h4> <p>最后一个逗号的位置：后面应该是3个数字，最后是末尾。</p> <p>可以用最笨的方式找规律：
倒数第二个逗号的位置：后面应该是6个数字，最后是末尾。
倒数第三个逗号的位置：后面应该是9个数字，最后是末尾。</p> <p>可以发现通用的规律是：
每个逗号的位置：后面应该是 <code>n * 3</code> 个数字，最后是末尾。</p> <p>因为 <code>n &gt;= 1</code>, 所以可以使用量词 <code>+</code></p> <p>即：<code>(\d{3})+$</code></p> <p>🍬</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">&quot;12345678&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> regex <span class="token operator">=</span> <span class="token regex">/(?=(\d{3})+$)/g</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> result <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>regex<span class="token punctuation">,</span> <span class="token string">','</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// =&gt; &quot;12,345,678&quot;</span>
</code></pre></div><p><strong>附加说明</strong></p> <p>一个疑惑：逗号是怎么添加到字符串当中的，replace() 方法是怎么添加逗号的？(js 基础有待加强😭)</p> <ul><li>猜想1：<s>找到所有的位置之后，再添加逗号</s>❌</li> <li>猜想2：找到一个位置，添加逗号，在此基础上继续找下一个逗号❓</li></ul> <p>这里猜想2是有歧义的：</p> <ul><li>理解方式1：<s>针对原字符串，根据正则找到一个位置，在原字符串中添加逗号，然后针对原字符串继续找下一个逗号</s>❌</li> <li>理解方式2：针对原字符串，根据正则找到一个位置，在新字符串中添加逗号，然后针对原字符串继续找下一个逗号</li></ul> <p>理解方式1是错误的，因为 <code>replace()</code> 方法是不会改变原字符串的。</p> <p>所有的逗号都是在新的字符串上面添加，而根据正则表达式找位置，是针对于原字符串的，这点一定要想清楚。</p> <p>完整的描述是：</p> <p>针对原字符串，倒数第二个逗号的位置：后面应该是6个数字，最后是末尾。</p> <h4 id="_5-3-边界处理"><a href="#_5-3-边界处理" class="header-anchor">#</a> 5.3 边界处理</h4> <p>刚才是从后往前找，但是这里有个容易被忽略的限制条件：</p> <p><strong>逗号的位置不能是开头</strong></p> <p>🍬 没考虑边界时</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">&quot;123456789&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> regex <span class="token operator">=</span> <span class="token regex">/(?=(\d{3})+$)/g</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> result <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>regex<span class="token punctuation">,</span> <span class="token string">','</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// =&gt; &quot;,123,456,789&quot;</span>
</code></pre></div><p>这里就用到了负向先行断言</p> <p><code>(?=^)</code> 子模式是开头，匹配的就是开头前面的位置，但实际上可以认为就是开头，因为<code>开头</code>和<code>开头前面的位置</code> 代表的是同一个位置，想想位置的特性，2个空字符和1个空字符实际上所占得空间是一样的。</p> <p>因为<code>(?=^)</code>匹配的是开头，那么<code>(?!^)</code>就代表不是开头的位置</p> <p>🍬</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">&quot;123456789&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> regex <span class="token operator">=</span> <span class="token regex">/(?!^)(?=(\d{3})+$)/g</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> result <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>regex<span class="token punctuation">,</span> <span class="token string">','</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// =&gt; &quot;123,456,789&quot;</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/RegExp/first_practise.html" class="prev">
        第一章练习册
      </a></span> <span class="next"><a href="/blog/RegExp/second_practise.html">
        第二章练习册
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.57b9cf0b.js" defer></script><script src="/blog/assets/js/2.7cc74fb0.js" defer></script><script src="/blog/assets/js/4.d4437480.js" defer></script>
  </body>
</html>
